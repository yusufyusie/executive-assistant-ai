<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Executive Assistant AI - Testing Interface</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 30px;
        }
        .endpoint-group {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .endpoint {
            display: flex;
            align-items: center;
            padding: 15px;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
            margin-bottom: 10px;
            background: #fafafa;
        }
        .method {
            padding: 5px 15px;
            border-radius: 20px;
            color: white;
            font-weight: bold;
            margin-right: 15px;
            min-width: 60px;
            text-align: center;
        }
        .get { background-color: #4CAF50; }
        .post { background-color: #2196F3; }
        .put { background-color: #FF9800; }
        .delete { background-color: #f44336; }
        .url {
            flex: 1;
            font-family: monospace;
            font-size: 14px;
        }
        .test-btn {
            background-color: #6c5ce7;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            margin-left: 10px;
        }
        .test-btn:hover {
            background-color: #5a4fcf;
        }
        .response {
            margin-top: 10px;
            padding: 15px;
            background-color: #f8f9fa;
            border-left: 4px solid #6c5ce7;
            border-radius: 5px;
            font-family: monospace;
            font-size: 12px;
            white-space: pre-wrap;
            display: none;
        }
        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-left: 10px;
        }
        .status-success { background-color: #4CAF50; }
        .status-error { background-color: #f44336; }
        .status-pending { background-color: #FF9800; }
        .input-group {
            margin: 10px 0;
        }
        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .input-group input, .input-group textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: monospace;
        }
        .input-group textarea {
            height: 100px;
            resize: vertical;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ü§ñ Executive Assistant AI</h1>
        <p>Interactive API Testing Interface</p>
        <p><strong>Base URL:</strong> http://localhost:3000</p>
    </div>

    <div class="endpoint-group">
        <h2>üè† Application Endpoints</h2>
        
        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="url">/</span>
            <button class="test-btn" onclick="testEndpoint('GET', '/')">Test</button>
            <div class="status-indicator" id="status-/"></div>
            <div class="response" id="response-/"></div>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="url">/health</span>
            <button class="test-btn" onclick="testEndpoint('GET', '/health')">Test</button>
            <div class="status-indicator" id="status-/health"></div>
            <div class="response" id="response-/health"></div>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="url">/features</span>
            <button class="test-btn" onclick="testEndpoint('GET', '/features')">Test</button>
            <div class="status-indicator" id="status-/features"></div>
            <div class="response" id="response-/features"></div>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="url">/metrics</span>
            <button class="test-btn" onclick="testEndpoint('GET', '/metrics')">Test</button>
            <div class="status-indicator" id="status-/metrics"></div>
            <div class="response" id="response-/metrics"></div>
        </div>
    </div>

    <div class="endpoint-group">
        <h2>ü§ñ AI Assistant Endpoints</h2>
        
        <div class="endpoint">
            <span class="method post">POST</span>
            <span class="url">/api/assistant/process</span>
            <button class="test-btn" onclick="testAIProcess()">Test</button>
            <div class="status-indicator" id="status-/api/assistant/process"></div>
            <div class="input-group">
                <label>Request Input:</label>
                <input type="text" id="ai-input" value="Schedule a meeting with John tomorrow at 2 PM" placeholder="Enter your request...">
            </div>
            <div class="response" id="response-/api/assistant/process"></div>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="url">/api/assistant/briefing</span>
            <button class="test-btn" onclick="testEndpoint('GET', '/api/assistant/briefing')">Test</button>
            <div class="status-indicator" id="status-/api/assistant/briefing"></div>
            <div class="response" id="response-/api/assistant/briefing"></div>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="url">/api/assistant/capabilities</span>
            <button class="test-btn" onclick="testEndpoint('GET', '/api/assistant/capabilities')">Test</button>
            <div class="status-indicator" id="status-/api/assistant/capabilities"></div>
            <div class="response" id="response-/api/assistant/capabilities"></div>
        </div>
    </div>

    <div class="endpoint-group">
        <h2>üìÖ Calendar Endpoints</h2>
        
        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="url">/api/calendar/events</span>
            <button class="test-btn" onclick="testEndpoint('GET', '/api/calendar/events?date=2025-01-16')">Test</button>
            <div class="status-indicator" id="status-/api/calendar/events"></div>
            <div class="response" id="response-/api/calendar/events"></div>
        </div>

        <div class="endpoint">
            <span class="method post">POST</span>
            <span class="url">/api/calendar/schedule</span>
            <button class="test-btn" onclick="testCalendarSchedule()">Test</button>
            <div class="status-indicator" id="status-/api/calendar/schedule"></div>
            <div class="response" id="response-/api/calendar/schedule"></div>
        </div>
    </div>

    <div class="endpoint-group">
        <h2>üìã Task Endpoints</h2>
        
        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="url">/api/tasks</span>
            <button class="test-btn" onclick="testEndpoint('GET', '/api/tasks')">Test</button>
            <div class="status-indicator" id="status-/api/tasks"></div>
            <div class="response" id="response-/api/tasks"></div>
        </div>

        <div class="endpoint">
            <span class="method post">POST</span>
            <span class="url">/api/tasks</span>
            <button class="test-btn" onclick="testCreateTask()">Test</button>
            <div class="status-indicator" id="status-/api/tasks-create"></div>
            <div class="response" id="response-/api/tasks-create"></div>
        </div>
    </div>

    <script>
        const baseUrl = 'http://localhost:3000';

        async function testEndpoint(method, endpoint, data = null) {
            const statusId = `status-${endpoint.replace(/[^a-zA-Z0-9]/g, '')}`;
            const responseId = `response-${endpoint.replace(/[^a-zA-Z0-9]/g, '')}`;
            
            // Set pending status
            const statusEl = document.getElementById(statusId);
            const responseEl = document.getElementById(responseId);
            
            if (statusEl) {
                statusEl.className = 'status-indicator status-pending';
            }

            try {
                const options = {
                    method: method,
                    headers: {
                        'Content-Type': 'application/json',
                    },
                };

                if (data) {
                    options.body = JSON.stringify(data);
                }

                const response = await fetch(`${baseUrl}${endpoint}`, options);
                const result = await response.json();

                // Update status
                if (statusEl) {
                    statusEl.className = response.ok ? 'status-indicator status-success' : 'status-indicator status-error';
                }

                // Show response
                if (responseEl) {
                    responseEl.style.display = 'block';
                    responseEl.textContent = `Status: ${response.status} ${response.statusText}\n\n${JSON.stringify(result, null, 2)}`;
                }

                return { success: response.ok, status: response.status, data: result };
            } catch (error) {
                // Update status to error
                if (statusEl) {
                    statusEl.className = 'status-indicator status-error';
                }

                // Show error
                if (responseEl) {
                    responseEl.style.display = 'block';
                    responseEl.textContent = `Error: ${error.message}`;
                }

                return { success: false, error: error.message };
            }
        }

        async function testAIProcess() {
            const input = document.getElementById('ai-input').value;
            const data = {
                input: input,
                context: {
                    userId: 'user123',
                    timezone: 'UTC'
                }
            };
            await testEndpoint('POST', '/api/assistant/process', data);
        }

        async function testCalendarSchedule() {
            const data = {
                title: 'Team Standup',
                startTime: '2025-01-17T09:00:00Z',
                endTime: '2025-01-17T09:30:00Z',
                attendees: ['team@company.com']
            };
            await testEndpoint('POST', '/api/calendar/schedule', data);
        }

        async function testCreateTask() {
            const data = {
                title: 'Review quarterly reports',
                description: 'Analyze Q4 performance metrics',
                priority: 'high',
                dueDate: '2025-01-20T17:00:00Z'
            };
            await testEndpoint('POST', '/api/tasks', data);
        }

        // Test all endpoints button
        async function testAll() {
            console.log('Testing all endpoints...');
            await testEndpoint('GET', '/');
            await testEndpoint('GET', '/health');
            await testEndpoint('GET', '/features');
            await testEndpoint('GET', '/metrics');
            await testAIProcess();
            await testEndpoint('GET', '/api/assistant/briefing');
            await testEndpoint('GET', '/api/calendar/events?date=2025-01-16');
            await testEndpoint('GET', '/api/tasks');
            console.log('All tests completed!');
        }
    </script>

    <div style="text-align: center; margin-top: 30px;">
        <button onclick="testAll()" style="background-color: #00b894; color: white; border: none; padding: 15px 30px; border-radius: 5px; font-size: 16px; cursor: pointer;">
            üöÄ Test All Endpoints
        </button>
    </div>
</body>
</html>
